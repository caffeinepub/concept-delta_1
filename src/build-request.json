{
  "kind": "build_request",
  "title": "Fix Question Creation Form Validation and Delete Functionality",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-81",
      "text": "Update Admin.tsx Create Question form to make classLevel dropdown field required with options '11th' and '12th', displaying a validation error message if not selected before form submission",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Class Level (dropdown) Options: 11th, 12th",
          "If Class not selected → show error"
        ]
      },
      "acceptanceCriteria": [
        "Class Level dropdown has exactly two options: '11th' and '12th'",
        "Error message displays if user attempts to submit without selecting a class level",
        "Form submission is blocked until class level is selected"
      ]
    },
    {
      "id": "REQ-82",
      "text": "Update Admin.tsx Create Question form to make subject dropdown field required with options 'Physics', 'Chemistry', and 'Maths', displaying a validation error message if not selected before form submission",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Subject (dropdown) Options: Physics, Chemistry, Maths",
          "If Subject not selected → show error"
        ]
      },
      "acceptanceCriteria": [
        "Subject dropdown has exactly three options: 'Physics', 'Chemistry', and 'Maths'",
        "Error message displays if user attempts to submit without selecting a subject",
        "Form submission is blocked until subject is selected"
      ]
    },
    {
      "id": "REQ-83",
      "text": "Update Admin.tsx Create Question form to make chapter/topic name text input field required, displaying a validation error message if empty before form submission",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Chapter / Topic Name (text input) Admin must type manually",
          "If Chapter/Topic empty → show error"
        ]
      },
      "acceptanceCriteria": [
        "Chapter/Topic text input field is marked as required",
        "Error message displays if user attempts to submit with empty chapter field",
        "Form submission is blocked until chapter field contains text",
        "Admin must manually type the chapter name (no dropdown)"
      ]
    },
    {
      "id": "REQ-84",
      "text": "Implement comprehensive form validation in Admin.tsx that prevents form submission unless all three fields (classLevel, subject, chapter) are filled, and ensure these three fields are always sent to the backend createQuestion function",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Do not allow save without these three",
          "Ensure classLevel, subject, chapter are always sent to backend"
        ]
      },
      "acceptanceCriteria": [
        "Form validation checks all three fields before allowing submission",
        "Backend createQuestion call always includes classLevel, subject, and chapter fields",
        "Validation runs on form submit and displays all relevant errors simultaneously",
        "Submit button remains disabled or shows validation errors until all required fields are filled"
      ]
    },
    {
      "id": "REQ-85",
      "text": "Preserve the existing image-only workflow in Admin.tsx Create Question form where questionText and option text fields remain optional and images can be used without text",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Do not remove image-only workflow"
        ]
      },
      "acceptanceCriteria": [
        "Question text field remains optional",
        "Option A, B, C, D text fields remain optional",
        "Questions can be created with only images (no text required for question or options)",
        "Existing image upload and preview functionality is preserved"
      ]
    },
    {
      "id": "REQ-86",
      "text": "Fix the backend deleteQuestion function in main.mo to correctly remove questions from stable memory by ensuring ID type matching and conversion, properly deleting the question from the storage data structure",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Ensure deleteQuestion(id) correctly removes question from stable memory",
          "Make sure ID types match (convert to same type if needed)"
        ]
      },
      "acceptanceCriteria": [
        "deleteQuestion function accepts question ID parameter",
        "ID types are matched or converted correctly (Text vs Nat comparisons)",
        "Question is successfully removed from stable memory storage",
        "Function returns success/failure status to frontend"
      ]
    },
    {
      "id": "REQ-87",
      "text": "Update QuestionGallery.tsx to refresh the question list, update the total question count, and display a success message after successful question deletion",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "After deletion: Refresh list, Update total question count, Show success message"
        ]
      },
      "acceptanceCriteria": [
        "Question list automatically refreshes after deletion by invalidating the getAllQuestions query",
        "Total questions count updates to reflect the new total",
        "Success message appears confirming the question was deleted",
        "UI updates without requiring manual page refresh"
      ]
    },
    {
      "id": "REQ-88",
      "text": "Add error handling to QuestionGallery.tsx delete functionality that displays an error message when deletion fails",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "If deletion fails: Show error message"
        ]
      },
      "acceptanceCriteria": [
        "Error message displays when deleteQuestion backend call fails",
        "Error message clearly indicates deletion was unsuccessful",
        "User can dismiss the error message and retry if needed"
      ]
    }
  ],
  "constraints": [
    "Do not modify any functionality outside of Question Creation form validation and Delete functionality",
    "Preserve existing image-only workflow capabilities",
    "Maintain all existing form fields and their optional/required status except for the three classification fields",
    "Do not change the UI layout or styling of the Create Question form",
    "Do not modify any other admin panel tabs or features"
  ],
  "nonGoals": [
    "Redesigning the Question Creation form UI",
    "Adding new fields to the Question Creation form",
    "Modifying Question Gallery filters or display",
    "Changing Create Test functionality",
    "Updating authentication or authorization logic",
    "Modifying any other pages or components"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}